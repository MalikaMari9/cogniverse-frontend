/* ===== Nav : dark mode overrides ===== */
:root{
  /* tweak freely */
  --navDarkBg: linear-gradient(180deg, #1b1f2e .0, #141826 .85);
  --navDarkBorder: rgba(255,255,255,.10);
  --navDarkText: #E9EEF7;

  --navDarkTabBg: rgba(255,255,255,.08);
  --navDarkTabBgHover: rgba(255,255,255,.14);
  --navDarkTabBorder: rgba(255,255,255,.16);
}

/* pill container */
[data-theme="dark"] .sc-nav-pretty{
  background: var(--navDarkBg);
  color: var(--navDarkText);
  border-color: var(--navDarkBorder);
  box-shadow: 0 6px 18px rgba(0,0,0,.35) inset,
              0 1px 0 rgba(255,255,255,.04);
}

/* divider line inside the bar */
[data-theme="dark"] .sc-divider{
  background: currentColor;
  opacity: .22;
}

/* tabs */
[data-theme="dark"] .sc-tab{
  background: var(--navDarkTabBg);
  border-color: var(--navDarkTabBorder);
  color: var(--navDarkText);
}

/* hover/active/selected state (optional) */
[data-theme="dark"] .sc-tab:hover{
  background: var(--navDarkTabBgHover);
  border-color: rgba(255,255,255,.24);
}

[data-theme="dark"] .sc-tab:active{
  transform: translateY(1px);
  filter: brightness(1.05);
}

/* if your tabs have an .active class */
[data-theme="dark"] .sc-tab.active{
  background: rgba(122,92,244,.22);            /* soft indigo */
  border-color: rgba(122,92,244,.45);
  box-shadow: 0 0 0 1px rgba(122,92,244,.25) inset;
}

/* ===============================
   üí≥ Wallet Summary (Dropdown)
=============================== */
.pf-wallet-summary {
  padding: 12px 14px;
  background: rgba(255,255,255,.05);
  border-bottom: 1px solid rgba(255,255,255,.08);
}

[data-theme="light"] .pf-wallet-summary {
  background: rgba(0,0,0,.03);
  border-bottom: 1px solid rgba(0,0,0,.08);
}

.pf-wallet-header {
  font-weight: 700;
  font-size: 0.85rem;
  letter-spacing: 0.4px;
  opacity: 0.8;
  margin-bottom: 6px;
}

.pf-wallet-balance {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.pf-wallet-item {
  display: flex;
  justify-content: space-between;
  font-size: 0.85rem;
  opacity: 0.9;
}

.pf-wallet-item .label {
  font-weight: 500;
}

.pf-wallet-item .value {
  font-weight: 700;
  font-variant-numeric: tabular-nums;
}

.pf-wallet-divider {
  height: 1px;
  background: rgba(255,255,255,.1);
  margin: 4px 0;
}

[data-theme="light"] .pf-wallet-divider {
  background: rgba(0,0,0,.08);
}

.pf-wallet-item.total .value {
  color: #7A5CF4;
}

/* logo/icon inside the bar uses currentColor */
.sc-nav-pretty svg{ fill: currentColor; }
[data-theme="dark"] .sc-nav-pretty svg{ opacity: .95; }


/* ============= Profile Top Nav (pf- namespaced) ============= */
.pf-nav{ display:flex; align-items:center; justify-content:space-between; gap:12px; padding:10px 12px; z-index: 5000;}

/* Pretty, animated ‚Äúglass‚Äù bar */
.pf-nav-pretty{
  position: relative;
  border-radius: 16px;
  border: 1px solid var(--pf-nav-border, rgba(255,255,255,.12));
  overflow: visible;               /* clip animated film to rounded corners */
  isolation: isolate;             /* keep ::before under children */
  backdrop-filter: saturate(120%) blur(8px);
}

/* moving gradient film (dark by default) */
.pf-nav-pretty::before{
  content:"";
  position:absolute; inset:0; z-index:-1; border-radius:inherit;
  --pf-film:
    radial-gradient(1200px 600px at -20% -40%, rgba(122,92,244,.18), transparent 60%),
    radial-gradient(1000px 600px at 120% 140%, rgba(48,215,233,.16), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.05));
  background: var(--pf-film);
  background-size: 200% 200%, 200% 200%, 100% 100%;
  animation: pfNavSweep 12s ease-in-out infinite alternate;
}

/* brand + tabs */
.pf-brand{ display:flex; align-items:center; gap:12px; }
.pf-brand .logo{
  width:34px; height:34px; border-radius:8px; display:grid; place-items:center; font-weight:900; letter-spacing:.2px;
  background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
  border: 1px solid rgba(255,255,255,.12);
}
.pf-divider{ width:1px; height:24px; background: currentColor; opacity:.16; border-radius:1px; }
.pf-tabs{ display:flex; gap:8px; }

/* pill tabs */
.pf-tab{
  padding:8px 12px; border-radius:10px; font-weight:700; letter-spacing:.2px;
  background: rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.12);
  transition: transform .2s ease, background .25s ease, border-color .25s ease, box-shadow .25s ease;
}
.pf-tab:hover{
  transform: translateY(-1px);
  background: rgba(255,255,255,.12);
  border-color: rgba(255,255,255,.18);
  box-shadow: 0 8px 24px rgba(0,0,0,.22);
}
.pf-tab.ghost{ background: transparent; }

/* right cluster (theme switch + user) */
.pf-right{ display:flex; align-items:center; gap:14px; }
.pf-user{
  display:flex; align-items:center; gap:10px; padding:6px 8px;
  border-radius:12px; background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.12); cursor:pointer;
}
.pf-user .avatar{
  width:32px; height:32px; border-radius:50%;
  display:grid; place-items:center; font-weight:800;
  background:linear-gradient(135deg,#7A5CF4,#30D7E9); color:#fff;
}
.pf-user .meta{ line-height:1.1 }
.pf-user .name{ font-weight:700; font-size:13px; opacity:.95 }
.pf-user .role{ font-size:11px; opacity:.7 }

/* Light mode: soften glass + recolor film (matches Scenario‚Äôs approach) */
[data-theme="light"] .pf-nav-pretty{ --pf-nav-border: rgba(0,0,0,.12); }
[data-theme="light"] .pf-nav-pretty::before{
  --pf-film:
    radial-gradient(1200px 600px at -15% -30%, rgba(122,92,244,.15), transparent 60%),
    radial-gradient(1000px 600px at 115% 135%, rgba(48,215,233,.14), transparent 55%),
    linear-gradient(180deg, rgba(0,0,0,.04), rgba(0,0,0,.02));
  background: var(--pf-film);
  background-size: 200% 200%, 200% 200%, 100% 100%;
}
[data-theme="light"] .pf-tab{
  background: rgba(0,0,0,.05);
  border-color: rgba(0,0,0,.10);
}
[data-theme="light"] .pf-tab:hover{
  background: rgba(0,0,0,.08);
  border-color: rgba(0,0,0,.16);
  box-shadow: 0 10px 26px rgba(24,38,64,.14);
}
[data-theme="light"] .pf-user{
  background: rgba(0,0,0,.06);
  border-color: rgba(0,0,0,.12);
}

.pf-user {
  position: relative;
  transition: background 0.25s ease, border-color 0.25s ease;
 z-index: 5010;

}

.pf-user:hover {
  background: rgba(255,255,255,.10);
  border-color: rgba(255,255,255,.20);
}

/* Dropdown panel */
.pf-dropdown {
  position: absolute;
  top: 110%;
  right: 0;
  background: rgba(20, 24, 38, 0.92);
  backdrop-filter: blur(10px) saturate(120%);
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 12px;
  box-shadow: 0 8px 24px rgba(0,0,0,.35);
  overflow: hidden;
  min-width: 160px;
  z-index: 9999;
  animation: pfDropdownFade 0.15s ease forwards;
}

/* Light theme adjustment */
[data-theme="light"] .pf-dropdown {
  background: rgba(255,255,255,.96);
  border-color: rgba(0,0,0,.08);
  box-shadow: 0 8px 26px rgba(0,0,0,.12);
}

/* Menu items */
.pf-dd-item {
  display: block;
  padding: 10px 16px;
  color: inherit;
  text-decoration: none;
  background: transparent;
  cursor: pointer;
  font-size: 0.9rem;
  letter-spacing: 0.2px;
  transition: background 0.2s ease, color 0.2s ease;
  border: none;
  width: 100%;
  text-align: left;
}

.pf-dd-item:hover {
  background: rgba(255,255,255,.08);
}

[data-theme="light"] .pf-dd-item:hover {
  background: rgba(0,0,0,.05);
}

/* subtle fade/slide */
@keyframes pfDropdownFade {
  from { opacity: 0; transform: translateY(-4px); }
  to { opacity: 1; transform: translateY(0); }
}

/* animation */
@keyframes pfNavSweep{
  0%   { background-position: 0% 40%, 100% 60%, 0% 0%; }
  50%  { background-position: 50% 60%, 50% 40%, 0% 0%; }
  100% { background-position: 100% 40%, 0% 60%, 0% 0%; }
}

/* accessibility: respect reduced motion */
@media (prefers-reduced-motion: reduce){
  .pf-nav-pretty::before{ animation: none; }
}


/* ========== Toast Styling ========== */
.toast {
  position: fixed;
  bottom: 24px;
  left: 50%;
  transform: translateX(-50%);
  min-width: 260px;
  max-width: 380px;
  background: var(--glass);
  color: var(--ink-1);
  border-radius: 10px;
  padding: 14px 18px;
  font-size: 0.95rem;
  font-weight: 500;
  border: 1px solid var(--glass-bdr);
  backdrop-filter: blur(12px);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.25);
  z-index: 9999;
  animation: toastFadeIn 0.3s ease forwards;
}

.toast.success {
  border-color: #39d98a;
  color: #39d98a;
}

.toast.error {
  border-color: #ff6b6b;
  color: #ff6b6b;
}

.toast.info {
  border-color: #8ca0bc;
  color: #8ca0bc;
}

.toast-bar {
  height: 3px;
  width: 100%;
  background: currentColor;
  opacity: 0.4;
  border-radius: 0 0 10px 10px;
  animation: toastProgress 4s linear forwards;
}

@keyframes toastFadeIn {
  from {
    opacity: 0;
    transform: translateX(-50%) translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
  }
}

@keyframes toastProgress {
  from {
    width: 100%;
  }
  to {
    width: 0%;
  }
}

.sc-spinner.tiny {
  width: 14px;
  height: 14px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-top-color: #fff;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
  display: inline-block;
  vertical-align: middle;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}
