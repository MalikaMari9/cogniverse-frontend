/* ===== Payment Page ===== */
.pay-page{
  /* Start a stacking context so global star/gradient layers can’t cover UI */
  isolation: isolate;
}

.pay-page .pay-wrap{
  position: relative;
  z-index: 1;                    /* keep content above any page decorations */
  max-width: 1100px;
  margin:0 auto;
  padding:24px 16px 100px;
}
.pay-page .pay-head h1{ margin:0 0 6px; font-size: clamp(28px, 5vw, 44px); }
.pay-page .pay-grid{ display:grid; grid-template-columns: 1.2fr 1fr; gap:16px; margin-top:14px; }

/* Cards */
.pay-page .card{
  position: relative;
  background: var(--card);
  border-radius: 18px;
  padding: 18px;
  box-shadow: var(--shadow);
  border: 1px solid rgba(0,0,0,.06);
  text-align:left;
  pointer-events:auto;           /* allow interactions */
  z-index: 2;                    /* sit above any stray layers */
}
[data-theme='dark'] .pay-page .card{
  background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.05));
  border-color: rgba(255,255,255,.12);
}

/* KILL pointer events on any global decor the app might render */
.bg-stars, .stars, .noise, .decor, .glow, .hero::before, .gradient-cover, .offer-sheen {
  pointer-events: none !important;
}

/* Small eyebrow */
.pay-page .eyebrow{ font-size:12px; opacity:.8; margin-bottom:8px; }

/* Tabs */
.pay-page .cycle-switch{ display:flex; gap:8px; }
.pay-page .cycle-switch button{
  padding:8px 12px; border-radius:10px; border:1px solid rgba(0,0,0,.08);
  background: var(--bg-accent); cursor:pointer; font-weight:600;
  transition: transform .25s ease, box-shadow .25s ease, background-position .6s ease;
  position: relative; z-index: 3;
}
.pay-page .cycle-switch button:hover{ transform: translateY(-1px); box-shadow: 0 8px 16px rgba(0,0,0,.10); }
.pay-page .cycle-switch button.on{
  color:#fff; border:none;
  background: linear-gradient(90deg, var(--violet), var(--blue));
}
.pay-page .cycle-switch .save{ opacity:.85; margin-left:6px; }

/* Perks */
.pay-page .perks{ list-style:none; padding:0; margin:12px 0; display:flex; flex-direction:column; gap:6px; }
.pay-page .perks li::before{ content:'✓ '; color: var(--teal); }

/* Totals */
.pay-page .total{ margin: 12px 0 10px; }
.pay-page .total .amt{ font-weight:800; font-size: 28px; }
.pay-page .total .note{ opacity:.85; }

/* Coupon line */
.pay-page .coupon-line{
  display:grid; grid-template-columns:auto 1fr; align-items:center; gap:10px; margin-top:8px;
}
.pay-page .coupon-field{
  display:grid; grid-template-columns: 1fr auto; gap:8px;
}
.pay-page .coupon-line input{
  height:40px; border-radius:10px; border:1px solid rgba(0,0,0,.08); padding:0 12px;
  background: rgba(255,255,255,.78); color: var(--text);
  transition: box-shadow .25s ease, border-color .25s ease;
  position: relative; z-index: 3;
}
.pay-page .coupon-line input:focus{
  outline:none; border-color: transparent;
  box-shadow: 0 0 0 6px rgba(122,92,244,.18);
}
[data-theme='dark'] .pay-page .coupon-line input{
  background: rgba(255,255,255,.10); border-color: rgba(255,255,255,.12); color:#f6f7fb;
}

/* Buttons */
.pay-page .btn{ 
  display:inline-flex; align-items:center; justify-content:center;
  padding: 12px 18px; border-radius: 14px; cursor:pointer; text-decoration:none;
  border:1px solid rgba(0,0,0,.06); color: var(--text); background: var(--bg-accent);
  transition: transform .3s cubic-bezier(.22,.61,.36,1), box-shadow .3s cubic-bezier(.22,.61,.36,1), background-position .6s ease;
  position: relative; z-index: 3; pointer-events:auto;
}
.pay-page .btn.wide{ width:100%; margin-top:12px; }
.pay-page .btn.sm{ padding:10px 14px; border-radius:12px; }
.pay-page .btn:hover{ transform: translateY(-2px); box-shadow: 0 10px 20px rgba(0,0,0,.12); }
.pay-page .btn:active{ transform: translateY(0) scale(.98); }
.pay-page .btn.primary{
  background: linear-gradient(90deg, var(--violet), var(--blue));
  color:#fff; border:none; background-size: 200% 100%; background-position: 0% 50%;
}
.pay-page .btn.primary:hover{ background-position: 100% 50%; }

/* Safe line */
.pay-page .safe{ display:flex; align-items:center; gap:8px; margin-top:8px; opacity:.9; }
.pay-page .lock-ic{ width:18px; height:18px; }

/* Payment methods (selectable chips) */
.pay-page .pm-list{
  display:flex; flex-wrap:wrap; gap:10px; margin:6px 0 8px;
}
.pay-page .pm-item{ position:relative; }
.pay-page .pm-item input{
  position:absolute; inset:0; opacity:0; pointer-events:none;
}
.pay-page .pm-chip{
  display:inline-flex; align-items:center; gap:10px;
  height:40px; padding:0 14px; border-radius:12px;
  background: rgba(255,255,255,.72); color: var(--text);
  border:1px solid rgba(0,0,0,.06); cursor:pointer;
  white-space:nowrap;
  transition: transform .25s ease, box-shadow .25s ease, outline .25s ease, background .25s ease, color .25s ease;
}
[data-theme='dark'] .pay-page .pm-chip{
  background: rgba(255,255,255,.10); color:#eaf2ff; border-color: rgba(255,255,255,.12);
}
.pay-page .pm-logo{ height:20px; width:auto; display:block; }
.pay-page .pm-name{ font-weight:700; font-size:13px; }

/* focus / checked */
.pay-page .pm-item input:focus-visible + .pm-chip{
  outline: 2px solid rgba(122,92,244,.6);
  outline-offset: 2px;
}
.pay-page .pm-item input:checked + .pm-chip{
  background: linear-gradient(90deg, var(--violet), var(--blue));
  color:#fff; border-color: transparent;
  box-shadow: 0 12px 22px rgba(0,0,0,.16);
}
.pay-page .pm-chip:hover{ transform: translateY(-2px); box-shadow: 0 10px 18px rgba(0,0,0,.12); }

/* Rule + notes + errors */
.pay-page .hr{ height:1px; background: rgba(0,0,0,.08); margin:12px 0; }
[data-theme='dark'] .pay-page .hr{ background: rgba(255,255,255,.12); }
.pay-page .note-line{ margin-top:8px; opacity:.9; }
.pay-page .err-line{ margin-top:8px; color:#ff7a7a; }
.small{ font-size: 13px; }

/* Reveal */
.reveal{ opacity:0; transform: translateY(14px); transition: opacity .45s ease, transform .45s ease; }
.reveal.is-visible{ opacity:1; transform: none; }
.reveal.fade-left{ transform: translateX(14px); }
.reveal.fade-left.is-visible{ transform:none; }
.reveal.fade-right{ transform: translateX(-14px); }
.reveal.fade-right.is-visible{ transform:none; }

/* Responsive */
@media (max-width: 980px){
  .pay-page .pay-grid{ grid-template-columns:1fr; }
}
